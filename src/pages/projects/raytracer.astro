---
import Layout from "../../layouts/Layout.astro";
import finished from "../../assets/images/deep-dives/raytracer/finished.jpg";
import cornellCosine from "../../assets/images/deep-dives/raytracer/cornell_cosine.jpg";
import cornellPdf from "../../assets/images/deep-dives/raytracer/cornell_pdf.jpg";
import { Image } from "astro:assets";
---

<Layout title="Physically Based Raytracer | Sam Popham" noParticles>
  <section class="max-w-6xl mx-auto px-6 py-12">
    <h1 class="text-4xl font-bold mb-8">
      Physically Based Raytracer — Deep Dive
    </h1>

    <p class="text-gray-600 dark:text-gray-400 mb-6">
      C++ path tracer exploring sampling, materials and progressive rendering
      strategies.
    </p>

    <ul class="divide-y divide-gray-200 dark:divide-gray-700">
      <!-- 1: Progressive sampling sequence (image left) -->
      <li class="flex flex-col md:flex-row items-center gap-8 py-12">
        <figure class="md:w-1/2 w-full">
          <!--
            Image guidance:
            Progressive sampling sequence:
            - grid showing the same scene at increasing sample counts (noisy -> clean),
            - annotate sample counts and timing where possible.
          -->
          <Image
            src={finished}
            alt="Progressive sampling sequence"
            class="w-full rounded-lg shadow-lg"
          />
        </figure>

        <article class="md:w-1/2 w-full">
          <h2 class="text-2xl font-semibold mb-3">Progressive Sampling</h2>
          <p class="text-gray-600 dark:text-gray-400">
            See noise reduce as samples increase — useful to compare sampling
            strategies and denoisers.
          </p>
        </article>
      </li>

      <!-- 2: Material/BRDF comparison (image right) -->
      <li
        class="flex flex-col md:flex-row md:flex-row-reverse items-center gap-8 py-12"
      >
        <figure class="md:w-1/2 w-full">
          <!--
            Image guidance:
            Material comparison:
            - side-by-side renders with diffuse, metal and dielectric materials,
            - consistent lighting and camera for fair comparison.
          -->
          <Image
            src={cornellCosine}
            alt="Material comparison"
            class="w-full rounded-lg shadow-lg"
          />
        </figure>

        <article class="md:w-1/2 w-full">
          <h2 class="text-2xl font-semibold mb-3">Material & BRDFs</h2>
          <p class="text-gray-600 dark:text-gray-400">
            Compare how different BRDFs respond to lighting — critical for
            realistic materials.
          </p>
        </article>
      </li>

      <!-- 3: Sampling/noise heatmap (image left) -->
      <li class="flex flex-col md:flex-row items-center gap-8 py-12">
        <figure class="md:w-1/2 w-full">
          <!--
            Image guidance:
            Sampling/noise heatmap:
            - visualize sample distribution or noise patterns across the image,
            - highlight optimisations like importance sampling.
          -->
          <Image
            src={cornellPdf}
            alt="Sampling noise heatmap"
            class="w-full rounded-lg shadow-lg"
          />
        </figure>

        <article class="md:w-1/2 w-full">
          <h2 class="text-2xl font-semibold mb-3">Sampling & Noise</h2>
          <p class="text-gray-600 dark:text-gray-400">
            Visualising noise and sample distribution helps diagnose variance
            and optimise sampling strategies.
          </p>
        </article>
      </li>
    </ul>
  </section>
</Layout>
